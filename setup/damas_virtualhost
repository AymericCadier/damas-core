# Apache2 virtual host template for Damas projects
# ================================================
# replace SERVERNAME and PROJECTDIR with your settings
# copy this file to /etc/apache2/sites-available/DBNAME

NameVirtualHost *:443

<IfModule mod_ssl.c>
<VirtualHost *:443>
	ServerName SERVERNAME
	DocumentRoot PROJECTDIR
	SSLEngine on
	SSLCertificateFile    /etc/ssl/certs/ssl-cert-snakeoil.pem
	SSLCertificateKeyFile /etc/ssl/private/ssl-cert-snakeoil.key

	ErrorLog /var/log/apache2/damas.error.log
	CustomLog /var/log/apache2/damas.custom.log combined


	Alias /damas/webclient/Choices/ "PROJECTDIR/.damas/"

	<Directory PROJECTDIR>
		#Options FollowSymLinks MultiViews
		Options -Indexes
		AllowOverride None
		Order allow,deny
		allow from all
		AddType 'text/xml; charset=UTF-8' xml # change default mime type application/xml to text/xml for safari
		#DirectoryIndex index.html /damas/autoindexer.html
		#ErrorDocument 404 /damas/autoindexer.html
	</Directory>

	Alias /damas/ "/usr/share/damas/"
	<Directory /usr/share/damas/>
		Options -Indexes
	</Directory>
	<Directory /usr/share/damas/Doc/>
		Options +Indexes
	</Directory>

	BrowserMatch "MSIE [2-6]" nokeepalive ssl-unclean-shutdown downgrade-1.0 force-response-1.0
	BrowserMatch "MSIE [17-9]" ssl-unclean-shutdown

</VirtualHost>
</IfModule>
